<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body th:object="${offers}">
	<h1>Create new Offer:</h1>
	<form th:action="@{/offer/update/{id} (id=*{id})}" method="POST">
		<label>Title</label>
		<input type="text" name="title" th:value="*{title}">
		<label
			th:if="${errors != null && errors.hasFieldErrors('title')}"
			style="color: red"
			th:object="${errors}"
		>
			[[ *{getFieldError('title').defaultMessage} ]]
		</label>
		<br>
		<label>Start Date:</label>
		<input type="date" name="startDate" th:value="*{startDate}">
		<label
			th:if="${errors != null && errors.hasFieldErrors('finishDate')}"
			style="color: red"
			th:object="${errors}"
		>
			[[ *{getFieldError('finishDate').defaultMessage} ]]
		</label>
		<label
			th:if="${errors != null && errors.hasFieldErrors('startDateBeforefinishDate')}"
			style="color: red"
			th:object="${errors}"
		>
			<br>
			[[ *{getFieldError('startDateBeforefinishDate').defaultMessage} ]]
		</label>
		<label
			th:if="${errors != null && errors.hasFieldErrors('startDate')}"
			style="color: red"
			th:object="${errors}"
		>
			[[ *{getFieldError('startDate').defaultMessage} ]]
		</label>
		<br>
		<label>Finish Date</label>
		<input type="date" name="finishDate" th:value="*{finishDate}">
		<br>
		<label>Discounted price</label>
		<input type="number" name="discountPerc" th:value="*{discountPerc}">
		<label
			th:if="${errors != null && errors.hasFieldErrors('discountPerc')}"
			style="color: red"
			th:object="${errors}"
		>
			[[ *{getFieldError('discountPerc').defaultMessage} ]]
		</label>
		<br>
		<label>Pizza</label>
		<select name="pizza">
			<option
				th:each="pizza : ${pizzas}"
				th:object="${pizza}"
				th:selected="${offer.pizza.id == pizza.id}"
				th:value="*{id}"
			>
				[[ *{name} ]]
			</option>
		</select>
		<br>
		<input type="submit" value="UPDATE">
	</form>
</body>
</html>